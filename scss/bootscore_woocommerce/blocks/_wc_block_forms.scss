/*--------------------------------------------------------------
WooCommerce Forms Block
--------------------------------------------------------------*/


// Move icon functions to _functions.scss
// Check icon
@function check-icon-color($color) {
  @return '%23' + str-slice('#{$color}', 2, -1)
}

$check-icon-color: $form-check-input-checked-color;

// Radio icon
@function radio-icon-color($color) {
  @return '%23' + str-slice('#{$color}', 2, -1)
}

$radio-icon-color: $form-check-input-checked-color;




:root {
  --checkbox-icon: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 20 20'%3e%3cpath fill='none' stroke='#{check-icon-color($form-check-input-checked-color)}' stroke-linecap='round' stroke-linejoin='round' stroke-width='3' d='m6 10 3 3 6-6'/%3e%3c/svg%3e");
 //--radio-icon: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='-4 -4 8 8'%3e%3ccircle r='2' fill='%23fff'/%3e%3c/svg%3e");
 --radio-icon: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='-4 -4 8 8'%3e%3ccircle r='2' fill='#{radio-icon-color($form-check-input-checked-color)}'/%3e%3c/svg%3e");

}





// Checks
.wc-block-components-checkbox {
  display: block;
  min-height: $form-check-min-height;
  padding-left: $form-check-padding-start;
  margin-bottom: $form-check-margin-bottom;

  input {

    float: left;
    margin-left: $form-check-padding-start * -1;

    flex-shrink: 0;
    width: $form-check-input-width;
    height: $form-check-input-width;
    margin-top: ($line-height-base - $form-check-input-width) * .5; // line-height minus check height
    vertical-align: top;
    appearance: none;
    background-color: var(--#{$prefix}form-check-bg);
    background-repeat: no-repeat;
    background-position: center;
    background-size: contain;
    border: $form-check-input-border;
    print-color-adjust: exact; // Keep themed appearance for print
    @include transition($form-check-transition);
    @include border-radius($form-check-input-border-radius);
    background-image: var(--checkbox-icon);

    &:checked {
      background-color: $form-check-input-checked-bg-color;
      border-color: $form-check-input-checked-border-color;
    }

    &:focus {
      border-color: $form-check-input-focus-border;
      outline: 0;
      box-shadow: $form-check-input-focus-box-shadow;
    }
  }

  // Hide svg in checkout
  &__mark {
    display: none;
  }
}



// Radios
.wc-block-components-radio-control {

  &__option {
    //display: block;
    //@extend .form-check;
    display: block;
    min-height: $form-check-min-height;
    padding-left: $form-check-padding-start;
    margin-bottom: $form-check-margin-bottom;

    input {
      //@extend .form-check-input;

      float: left;
      margin-left: $form-check-padding-start * -1;

      flex-shrink: 0;
      width: $form-check-input-width;
      height: $form-check-input-width;
      margin-top: ($line-height-base - $form-check-input-width) * .5; // line-height minus check height
      vertical-align: top;
      appearance: none;
      background-color: var(--#{$prefix}form-check-bg);
      background-repeat: no-repeat;
      background-position: center;
      background-size: contain;
      border: $form-check-input-border;
      print-color-adjust: exact; // Keep themed appearance for print
      @include transition($form-check-transition);
      border-radius: $form-check-radio-border-radius;
      background-image: var(--radio-icon);
      &:checked {
        background-color: $form-check-input-checked-bg-color;
        border-color: $form-check-input-checked-border-color;
      }

      &:focus {
        border-color: $form-check-input-focus-border;
        outline: 0;
        box-shadow: $form-check-input-focus-box-shadow;
      }

    }

    img {
      height: $font-size-base; // Paypal
    }
  }

  &-accordion-content {
    img {
      height: $font-size-base; // Credit cards
    }
  }
}



// Form control

.components-combobox-control,
// Checkout fields
.wc-block-components-text-input {
  // Country/ Region, State/County
  //@extend .form-floating;
  display: flex; // label
  flex-direction: column; // label
  margin-bottom: $spacer;
  width: 100%;


  label {
    order: -1;
    margin-bottom: $form-label-margin-bottom;
    font-size: $font-size-base;
  }

  input {
    //@extend .form-control;
    display: block;
    width: 100%;
    padding: $input-padding-y $input-padding-x;
    font-size: $input-font-size;
    font-weight: $input-font-weight;
    line-height: $input-line-height;
    color: $input-color;
    appearance: none;
    background-color: $input-bg;
    background-clip: padding-box;
    border: $input-border-width solid $input-border-color;
    border-radius: $input-border-radius;
    transition: $input-transition;

    &:focus {
      color: $input-focus-color;
      background-color: $input-focus-bg;
      border-color: $input-focus-border-color;
      outline: 0;
      box-shadow: $input-focus-box-shadow;
    }
  }
}

//.components-combobox-control input,
textarea.wc-block-components-textarea {
  display: block;
  width: 100%;
  padding: $input-padding-y $input-padding-x;
  font-size: $input-font-size;
  font-weight: $input-font-weight;
  line-height: $input-line-height;
  color: $input-color;
  appearance: none;
  background-color: $input-bg;
  background-clip: padding-box;
  border: $input-border-width solid $input-border-color;
  border-radius: $input-border-radius;
  transition: $input-transition;

  &:focus {
    color: $input-focus-color;
    background-color: $input-focus-bg;
    border-color: $input-focus-border-color;
    outline: 0;
    box-shadow: $input-focus-box-shadow;
  }
}


// Quantity
.wc-block-components-quantity-selector {
  @extend .input-group;
  width: 140px;

  // Disable input if product is 1 in stock or limit purchases to 1 item per order in cart page
  [max="1"] {
    @extend :disabled;
  }

  input {
    @extend .form-control;
    text-align: center;
    border-top-left-radius: 0;
    border-bottom-left-radius: 0;

    // Hide browser arrows in quantity input
    appearance: textfield;
    -webkit-appearance: none;
    -moz-appearance: textfield;

    &::-webkit-outer-spin-button,
    &::-webkit-inner-spin-button {
      display: none;
      margin: 0;
    }
  }

  button {
    @extend .input-group-text;
  }

  &__button--minus {
    order: -1;
    margin-right: -1px;
    border-top-left-radius: #{$btn-border-radius} !important;
    border-bottom-left-radius: #{$btn-border-radius} !important;
  }
}

/*
.wc-block-components-quantity-selector__button--minus {
  order: -1;
}
*/
